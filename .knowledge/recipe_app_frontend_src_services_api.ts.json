{"is_source_file": true, "format": "TypeScript", "description": "This file defines service functions for fetching recipe data either from an API endpoint or fallback mock data. It includes functions to list recipes with optional search queries and to retrieve individual recipes by ID.", "external_files": ["../mock/recipes"], "external_methods": ["filterMockRecipes"], "published": ["listRecipes", "getRecipe"], "classes": [], "methods": [{"name": "export async function listRecipes(query: string = \"\"): Promise<Recipe[]> { listRecipes", "description": "Fetches a list of recipes from the API or mock data if API is unavailable. Supports an optional search query parameter.", "scope": "", "scopeKind": ""}, {"name": "export async function getRecipe(id: string): Promise<Recipe | null> { getRecipe", "description": "Retrieves a specific recipe by ID from the API or falls back to mock data if API is unavailable.", "scope": "", "scopeKind": ""}], "calls": ["filterMockRecipes", "new URL", "doFetch", "res.ok", "res.status", "res.json", "MOCK_RECIPES.find"], "search-terms": ["api", "recipe", "mock", "fetch", "VITE_API_BASE", "listRecipes", "getRecipe", "filterMockRecipes"], "state": 2, "file_id": 12, "knowledge_revision": 55, "git_revision": "", "revision_history": [{"25": ""}, {"55": ""}], "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186631-186733/recipe_app_frontend/src/services/api.ts", "pattern": "/^const API_BASE =$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "Recipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186631-186733/recipe_app_frontend/src/services/api.ts", "pattern": "/^import { filterMockRecipes, MOCK_RECIPES, type Recipe } from \"..\\/mock\\/recipes\";$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186631-186733/recipe_app_frontend/src/services/api.ts", "pattern": "/^    const data = (await res.json()) as Recipe;$/", "language": "TypeScript", "kind": "constant", "scope": "getRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186631-186733/recipe_app_frontend/src/services/api.ts", "pattern": "/^    const data = await res.json();$/", "language": "TypeScript", "kind": "constant", "scope": "listRecipes", "scopeKind": "function"}, {"_type": "tag", "name": "doFetch", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186631-186733/recipe_app_frontend/src/services/api.ts", "pattern": "/^const doFetch: typeof fetch | undefined =$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "found", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186631-186733/recipe_app_frontend/src/services/api.ts", "pattern": "/^    const found = MOCK_RECIPES.find((r) => r.id === id) || null;$/", "language": "TypeScript", "kind": "constant", "scope": "getRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "getRecipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186631-186733/recipe_app_frontend/src/services/api.ts", "pattern": "/^export async function getRecipe(id: string): Promise<Recipe | null> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "listRecipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186631-186733/recipe_app_frontend/src/services/api.ts", "pattern": "/^export async function listRecipes(query: string = \"\"): Promise<Recipe[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186631-186733/recipe_app_frontend/src/services/api.ts", "pattern": "/^    const res = await doFetch(url.toString());$/", "language": "TypeScript", "kind": "constant", "scope": "getRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186631-186733/recipe_app_frontend/src/services/api.ts", "pattern": "/^    const res = await doFetch(url.toString());$/", "language": "TypeScript", "kind": "constant", "scope": "listRecipes", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186631-186733/recipe_app_frontend/src/services/api.ts", "pattern": "/^    const url = new URL(\"\\/recipes\", API_BASE);$/", "language": "TypeScript", "kind": "constant", "scope": "listRecipes", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186631-186733/recipe_app_frontend/src/services/api.ts", "pattern": "/^    const url = new URL(`\\/recipes\\/${id}`, API_BASE);$/", "language": "TypeScript", "kind": "constant", "scope": "getRecipe", "scopeKind": "function"}], "hash": "f677ef0feadb7158f45ac3521898438e", "format-version": 4, "code-base-name": "recipe_app_frontend", "filename": "recipe_app_frontend/src/services/api.ts"}